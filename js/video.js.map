{"version":3,"sources":["../src/js/video.js"],"names":[],"mappings":"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","file":"video.js","sourcesContent":["/* global YT */\n( function( $, window ) {\n\t/**\n\t * Track whether a scroll event has been set.\n\t *\n\t * @type {boolean}\n\t */\n\tvar scroll_event_set = false;\n\n\t/**\n\t * Track the initial position of a video on the screen.\n\t *\n\t * @type {number}\n\t */\n\tvar video_off_screen_position = 0;\n\n\t/**\n\t * Create a script element to load in the YouTube iFrame API and insert it\n\t * into the document.\n\t */\n\tvar load_youtube = function() {\n\t\tvar tag = document.createElement( \"script\" );\n\n\t\ttag.src = \"https://www.youtube.com/iframe_api\";\n\t\tvar firstScriptTag = document.getElementsByTagName( \"script\" )[ 0 ];\n\t\tfirstScriptTag.parentNode.insertBefore( tag, firstScriptTag );\n\t};\n\n\t/**\n\t * Place a playing video into an on-page or off-page state depending on\n\t * its location in the page when scrolling.\n\t */\n\tvar handle_scroll_event = function() {\n\t\tvar video = $( \".video-wrap-control\" );\n\t\tvar video_off_screen = ( 0 <= $( window ).scrollTop() - video_off_screen_position );\n\n\t\tif ( video_off_screen && !video.hasClass( \"video-in-scroll\" ) ) {\n\t\t\tvideo.addClass( \"video-in-scroll\" );\n\t\t}\n\n\t\tif ( !video_off_screen && video.hasClass( \"video-in-scroll\" ) ) {\n\t\t\tvideo.removeClass( \"video-in-scroll\" );\n\t\t}\n\t};\n\n\t/**\n\t * Callback function expected by the YouTube Iframe API. Without a function\n\t * with this name available in the global space, our use of the YouTube API\n\t * does not work.\n\t *\n\t * Loop through each of the inline YouTube Videos, gather the video information,\n\t * and set up objects representing the videos.\n\t */\n\twindow.onYouTubeIframeAPIReady = function() {\n\t\t$( \".inline-youtube-video\" ).each( function() {\n\t\t\tvar video_id = $( this ).data( \"video-id\" ),\n\t\t\t\tvideo_height = $( this ).data( \"video-height\" ),\n\t\t\t\tvideo_width = $( this ).data( \"video-width\" );\n\n\t\t\tnew YT.Player( \"youtube-video-\" + video_id, {\n\t\t\t\theight: video_height,\n\t\t\t\twidth: video_width,\n\t\t\t\tvideoId: video_id,\n\t\t\t\tplayerVars: {\n\t\t\t\t\tmodestbranding: 1,\n\t\t\t\t\tshowinfo: 0,\n\t\t\t\t\tcontrols: 1,\n\t\t\t\t\trel: 0\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\t\"onReady\": window.onPlayerReady,\n\t\t\t\t\t\"onStateChange\": window.onPlayerStateChange\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t};\n\n\t/**\n\t * Callback function expected by the YouTube iFrame API based on our specification\n\t * in the events data above. We use this to attach a click event to any text with\n\t * a class of `start-{video_id}`. This allows initial interaction with the video to\n\t * begin inside the document.\n\t *\n\t * @param event\n\t */\n\twindow.onPlayerReady = function( ) {\n\t\tvideo_off_screen_position = $( \".video-wrap-control\" ).offset().top;\n\t};\n\n\t/**\n\t * Bind and unbind the scrolling event when the state of a video changes\n\t * between play and anything else.\n\t *\n\t * @param event\n\t */\n\twindow.onPlayerStateChange = function( event ) {\n\t\tif ( \"undefined\" === typeof event ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( 1 === event.data && false === scroll_event_set ) {\n\t\t\t$( document ).on( \"scroll\", handle_scroll_event );\n\t\t\tscroll_event_set = true;\n\t\t}\n\n\t\tif ( 1 !== event.data && true === scroll_event_set ) {\n\t\t\t$( document ).unbind( \"scroll\", handle_scroll_event );\n\t\t\tscroll_event_set = false;\n\t\t}\n\t};\n\n\t/**\n\t * Fire any actions that we need to happen once the document is ready.\n\t */\n\t$( document ).ready( function() {\n\t\tload_youtube();\n\t} );\n}( jQuery, window ) );\n"]}